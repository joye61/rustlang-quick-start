å¥½çš„ï¼Œæˆ‘ä»¬æ¥è¯¦ç»†ã€ç³»ç»Ÿã€ç®€æ˜åœ°è®²è§£ **Rust çš„ç»“æ„ä½“ï¼ˆstructï¼‰**ã€‚æˆ‘ä¼šè¦†ç›–è¯­æ³•ã€ç”¨æ³•ã€å¸¸è§æ¨¡å¼ä»¥åŠç¤ºä¾‹ã€‚

---

## 1ï¸âƒ£ ä»€ä¹ˆæ˜¯ç»“æ„ä½“

ç»“æ„ä½“æ˜¯ **Rust ä¸­ç”¨æ¥å°†å¤šä¸ªç›¸å…³æ•°æ®ç»„åˆåœ¨ä¸€èµ·çš„è‡ªå®šä¹‰æ•°æ®ç±»å‹**ã€‚
å®ƒå¯ä»¥æŠŠä¸åŒç±»å‹çš„å­—æ®µç»„åˆæˆä¸€ä¸ªæ•´ä½“ï¼Œç±»ä¼¼äºå…¶ä»–è¯­è¨€çš„ `class`ï¼ˆä½†ä¸åŒ…å«æ–¹æ³•ï¼Œæ–¹æ³•è¦ç”¨ `impl` å®ç°ï¼‰ã€‚

### å®šä¹‰ç»“æ„ä½“

```rust
struct Person {
    name: String,
    age: u32,
}
```

* `Person` æ˜¯ç»“æ„ä½“åï¼ˆé¦–å­—æ¯å¤§å†™æ˜¯æƒ¯ä¾‹ï¼‰ã€‚
* `{}` å†…æ˜¯å­—æ®µï¼ŒåŒ…å«å­—æ®µåå’Œç±»å‹ã€‚
* æ¯ä¸ªå­—æ®µå¿…é¡»æœ‰ç±»å‹ã€‚
* ä¸å˜é‡ä¸åŒï¼Œç»“æ„ä½“æ˜¯ç±»å‹çš„å®šä¹‰ã€‚

---

## 2ï¸âƒ£ åˆ›å»ºç»“æ„ä½“å®ä¾‹

```rust
fn main() {
    let person1 = Person {
        name: String::from("Alice"),
        age: 30,
    };

    println!("{} is {} years old", person1.name, person1.age);
}
```

* ç”¨ `{}` åˆå§‹åŒ–ç»“æ„ä½“ã€‚
* å­—æ®µåå¿…é¡»å†™å…¨ã€‚
* `String::from("Alice")` ç”¨äºåˆ›å»º `String` ç±»å‹ã€‚

---

## 3ï¸âƒ£ å¯å˜ç»“æ„ä½“

```rust
let mut person2 = Person {
    name: String::from("Bob"),
    age: 25,
};

person2.age += 1; // å¯ä»¥ä¿®æ”¹å­—æ®µ
```

* é»˜è®¤ç»“æ„ä½“å®ä¾‹æ˜¯ä¸å¯å˜çš„ã€‚
* ç”¨ `mut` å¯ä»¥ä¿®æ”¹å­—æ®µã€‚

---

## 4ï¸âƒ£ ç»“æ„ä½“å­—æ®µç®€å†™è¯­æ³•

å¦‚æœå˜é‡åå’Œå­—æ®µåä¸€è‡´ï¼Œå¯ä»¥ç®€å†™ï¼š

```rust
let name = String::from("Charlie");
let age = 40;

let person3 = Person { name, age }; // ç­‰åŒäº Person { name: name, age: age }
```

---

## 5ï¸âƒ£ ä½¿ç”¨ç»“æ„ä½“æ›´æ–°è¯­æ³•ï¼ˆ..ï¼‰

å¯ä»¥åŸºäºå·²æœ‰å®ä¾‹åˆ›å»ºæ–°å®ä¾‹ï¼š

```rust
let person4 = Person {
    name: String::from("David"),
    ..person3
};
```

* ä¼šå¤ç”¨ `person3` ä¸­æœªæŒ‡å®šçš„å­—æ®µï¼ˆè¿™é‡Œå¤ç”¨ `age`ï¼‰ã€‚
* æ³¨æ„ï¼Œæ¶‰åŠ `String` è¿™æ ·çš„é `Copy` ç±»å‹ï¼ŒåŸæ¥çš„å˜é‡å¯èƒ½ä¼šè¢« **move**ã€‚

---

## 6ï¸âƒ£ å…ƒç»„ç»“æ„ä½“ï¼ˆTuple Structï¼‰

ç»“æ„ä½“å¯ä»¥æ²¡æœ‰å­—æ®µåï¼Œç”¨å…ƒç»„æ–¹å¼ï¼š

```rust
struct Color(u8, u8, u8);

let black = Color(0, 0, 0);
```

* ç”¨äºç®€å•å°è£…ï¼Œä¸å…³å¿ƒå­—æ®µåã€‚
* è®¿é—®å­—æ®µç”¨ `.0`, `.1`, `.2`ã€‚

```rust
println!("Red: {}", black.0);
```

---

## 7ï¸âƒ£ å•å…ƒç»“æ„ä½“ï¼ˆUnit Structï¼‰

æ²¡æœ‰å­—æ®µçš„ç»“æ„ä½“ï¼Œç±»ä¼¼ `()`ï¼š

```rust
struct Marker;

let m = Marker;
```

* ç”¨äºç±»å‹æ ‡è®°ã€å®ç° trait ç­‰åœºæ™¯ã€‚

---

## 8ï¸âƒ£ ç»™ç»“æ„ä½“å®ç°æ–¹æ³•ï¼ˆimpl å—ï¼‰

```rust
impl Person {
    // å…³è”å‡½æ•°ï¼ˆç±»ä¼¼é™æ€å‡½æ•°ï¼‰
    fn new(name: &str, age: u32) -> Person {
        Person {
            name: String::from(name),
            age,
        }
    }

    // æ–¹æ³•
    fn greet(&self) {
        println!("Hello, my name is {}", self.name);
    }

    fn have_birthday(&mut self) {
        self.age += 1;
    }
}

fn main() {
    let mut p = Person::new("Eve", 28);
    p.greet();
    p.have_birthday();
    println!("{} is now {} years old", p.name, p.age);
}
```

* `&self` è¡¨ç¤ºä¸å¯å˜å€Ÿç”¨ç»“æ„ä½“ã€‚
* `&mut self` è¡¨ç¤ºå¯å˜å€Ÿç”¨ã€‚
* å…³è”å‡½æ•°ä¸éœ€è¦ `self`ï¼ˆç±»ä¼¼æ„é€ å‡½æ•°ï¼‰ã€‚

---

## 9ï¸âƒ£ ç»“æ„ä½“ä¸ Debug æ‰“å°

```rust
#[derive(Debug)]
struct Point {
    x: i32,
    y: i32,
}

let p = Point { x: 10, y: 20 };
println!("{:?}", p); // éœ€è¦ #[derive(Debug)]
```

* è‡ªå®šä¹‰ç±»å‹è¦æ‰“å°ï¼Œå¿…é¡» `#[derive(Debug)]`ã€‚
* `{:?}` è¡¨ç¤ºæ™®é€š debug è¾“å‡ºï¼Œ`{:#?}` è¡¨ç¤ºæ¼‚äº®è¾“å‡ºã€‚

---

## ğŸ”Ÿ æ€»ç»“

| ç±»å‹      | ç‰¹ç‚¹                  | ç¤ºä¾‹                                        |
| ------- | ------------------- | ----------------------------------------- |
| å¸¸è§„ç»“æ„ä½“   | å­—æ®µæœ‰åå­—               | `struct Person { name, age }`             |
| å…ƒç»„ç»“æ„ä½“   | å­—æ®µæ— åå­—ï¼ŒæŒ‰é¡ºåºè®¿é—®         | `struct Color(u8,u8,u8)`                  |
| å•å…ƒç»“æ„ä½“   | æ— å­—æ®µï¼Œç”¨äºç±»å‹æ ‡è®°æˆ–å®ç° trait | `struct Marker;`                          |
| impl æ–¹æ³• | ä¸ºç»“æ„ä½“æ·»åŠ æ–¹æ³•æˆ–å…³è”å‡½æ•°       | `impl Person { fn greet(&self) { ... } }` |

âœ… ç»“æ„ä½“æ˜¯ Rust ä¸­æœ€åŸºç¡€ã€æœ€å¸¸ç”¨çš„ç»„åˆæ•°æ®ç»“æ„ï¼ŒæŒæ¡å®ƒå¯¹ç†è§£ Rust çš„æ‰€æœ‰é«˜çº§ç‰¹æ€§ï¼ˆtraitã€æ³›å‹ã€æ¨¡å¼åŒ¹é…ï¼‰éå¸¸é‡è¦ã€‚

---

å¦‚æœä½ æ„¿æ„ï¼Œæˆ‘å¯ä»¥å¸®ä½ ç”»ä¸€å¼  **ç»“æ„ä½“ç±»å‹ç¤ºæ„å›¾**ï¼ŒæŠŠå¸¸è§„ç»“æ„ä½“ã€å…ƒç»„ç»“æ„ä½“ã€å•å…ƒç»“æ„ä½“ä»¥åŠæ–¹æ³•å…³ç³»ç›´è§‚åœ°å±•ç¤ºå‡ºæ¥ï¼Œæ›´å®¹æ˜“è®°å¿†ã€‚

ä½ æƒ³è®©æˆ‘ç”»å—ï¼Ÿ
