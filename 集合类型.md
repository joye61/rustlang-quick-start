# ğŸŒŸ `Vector` | `HashMap` | `HashSet`

## ğŸ§  ä»€ä¹ˆæ˜¯ Vectorï¼Ÿ

åœ¨ Rust ä¸­ï¼Œ`Vec<T>`ï¼ˆä¹Ÿå« Vectorï¼‰æ˜¯ä¸€ç§**å¯å¢é•¿çš„æ•°ç»„**ï¼Œå¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€æ·»åŠ ã€åˆ é™¤å…ƒç´ ã€‚å®ƒæ˜¯æœ€å¸¸ç”¨çš„é›†åˆç±»å‹ã€‚

> `Vec<T>` è¡¨ç¤ºä¸€ä¸ªå­˜å‚¨ `T` ç±»å‹å…ƒç´ çš„å‘é‡ã€‚

---

## âœ… Vector çš„åŸºæœ¬ä½¿ç”¨

### 1. åˆ›å»º Vector

```rust
fn main() {
    // åˆ›å»ºä¸€ä¸ªç©ºçš„ vectorï¼Œç±»å‹ä¸º i32
    let mut v: Vec<i32> = Vec::new();
    
    // ä½¿ç”¨å®åˆ›å»ºå¹¶åˆå§‹åŒ–
    let v2 = vec![1, 2, 3, 4, 5];
    
    println!("{:?}", v);   // []
    println!("{:?}", v2);  // [1, 2, 3, 4, 5]
}
```

### 2. å‘ Vector æ·»åŠ å…ƒç´ 

```rust
fn main() {
    let mut v = Vec::new();
    v.push(10);
    v.push(20);
    v.push(30);
    
    println!("{:?}", v);  // [10, 20, 30]
}
```

> æ³¨æ„ï¼šå¿…é¡»æ˜¯ `mut` çš„ `Vector` æ‰èƒ½æ”¹å˜å†…å®¹ã€‚

---

## ğŸ” è®¿é—® Vector å…ƒç´ 

### 1. ä½¿ç”¨ç´¢å¼•ï¼ˆå¯èƒ½ panicï¼‰

```rust
fn main() {
    let v = vec![1, 2, 3];
    println!("{}", v[1]);  // 2
}
```

å¦‚æœè®¿é—®è¶Šç•Œä¼šå´©æºƒï¼š

```rust
let v = vec![1, 2, 3];
println!("{}", v[99]); // âŒ ä¼š panic!
```

### 2. ä½¿ç”¨ `.get()` æ–¹æ³•ï¼ˆå®‰å…¨ï¼‰

```rust
fn main() {
    let v = vec![1, 2, 3];
    match v.get(2) {
        Some(value) => println!("Found: {}", value),
        None => println!("Not found"),
    }
}
```

---

## ğŸ” éå† Vector

```rust
fn main() {
    let v = vec![10, 20, 30];

    // åªè¯»éå†
    for val in &v {
        println!("{}", val);
    }

    // å¯å˜å¼•ç”¨éå†
    let mut v2 = vec![1, 2, 3];
    for val in &mut v2 {
        *val *= 2;
    }
    println!("{:?}", v2);  // [2, 4, 6]
}
```

---

## ğŸ§¹ åˆ é™¤å…ƒç´ 

### ä½¿ç”¨ `pop()` åˆ é™¤æœ€åä¸€ä¸ªå…ƒç´ ï¼š

```rust
fn main() {
    let mut v = vec![1, 2, 3];
    let last = v.pop();
    println!("{:?}, {:?}", v, last);  // [1, 2], Some(3)
}
```

### ä½¿ç”¨ `remove(index)` åˆ é™¤æŒ‡å®šä½ç½®ï¼š

```rust
fn main() {
    let mut v = vec![10, 20, 30];
    v.remove(1);
    println!("{:?}", v);  // [10, 30]
}
```

---

## ğŸ§° å…¶ä»–å¸¸ç”¨æ–¹æ³•

| æ–¹æ³•å                      | åŠŸèƒ½       |
| ------------------------ | -------- |
| `len()`                  | è¿”å›é•¿åº¦     |
| `is_empty()`             | æ˜¯å¦ä¸ºç©º     |
| `contains(&value)`       | æ˜¯å¦åŒ…å«å…ƒç´    |
| `clear()`                | æ¸…ç©ºæ‰€æœ‰å…ƒç´    |
| `insert(index, value)`   | æ’å…¥å…ƒç´      |
| `resize(new_len, value)` | è°ƒæ•´é•¿åº¦å¹¶å¡«å……å€¼ |

ç¤ºä¾‹ï¼š

```rust
fn main() {
    let mut v = vec![1, 2, 3];

    println!("é•¿åº¦: {}", v.len()); // 3
    v.insert(1, 99);
    println!("{:?}", v); // [1, 99, 2, 3]
    
    v.resize(6, 0);
    println!("{:?}", v); // [1, 99, 2, 3, 0, 0]
}
```

---

## ğŸ’¡ Vector çš„æ‰€æœ‰æƒå’Œå€Ÿç”¨

```rust
fn main() {
    let v = vec![String::from("hello"), String::from("world")];

    for s in &v {
        println!("{}", s);
    }
    
    // æ‰€æœ‰æƒæ²¡æœ‰è¢«ç§»åŠ¨ï¼Œå¯ä»¥ç»§ç»­ä½¿ç”¨ v
    println!("{:?}", v);
}
```

---

## ğŸ“¦ ç”¨ Vector å­˜å‚¨ä¸åŒç±»å‹ï¼Ÿï¼ˆä¸æ¨èä½†å¯è¡Œï¼‰

Rust çš„ `Vec<T>` å¿…é¡»æ‰€æœ‰å…ƒç´ ç±»å‹ä¸€æ ·ã€‚ä½†å¯ä»¥ä½¿ç”¨æšä¸¾æ¥å®ç°â€œå¤šç±»å‹â€æ•ˆæœï¼š

```rust
enum MyValue {
    Int(i32),
    Float(f64),
    Text(String),
}

fn main() {
    let v = vec![
        MyValue::Int(10),
        MyValue::Float(3.14),
        MyValue::Text(String::from("Hello")),
    ];
    
    for item in v {
        match item {
            MyValue::Int(i) => println!("Int: {}", i),
            MyValue::Float(f) => println!("Float: {}", f),
            MyValue::Text(s) => println!("Text: {}", s),
        }
    }
}
```

---

## ğŸ§ª å°ç»ƒä¹ ï¼šåè½¬ä¸€ä¸ª Vector

```rust
fn main() {
    let mut v = vec![1, 2, 3, 4, 5];
    v.reverse();
    println!("{:?}", v);  // [5, 4, 3, 2, 1]
}
```

---

## âœ… æ€»ç»“ï¼šä½ å­¦ä¼šäº†ä»€ä¹ˆï¼Ÿ

| å†…å®¹        | è¯´æ˜                                  |
| --------- | ----------------------------------- |
| åˆ›å»º Vector | `Vec::new()`ï¼Œ`vec![1,2,3]`          |
| å¢åŠ å…ƒç´       | `.push()`ï¼Œ`.insert()`               |
| åˆ é™¤å…ƒç´       | `.pop()`ï¼Œ`.remove()`                |
| è®¿é—®å…ƒç´       | `[index]`ï¼Œ`.get()`                  |
| éå†        | `for val in &v`                     |
| æ–¹æ³•        | `.len()`ã€`.clear()`ã€`.contains()` ç­‰ |
| æšä¸¾æŠ€å·§      | ç”¨äºæ··åˆç±»å‹å­˜å‚¨                            |

---


æˆ‘ä»¬ç°åœ¨ç»§ç»­å­¦ä¹  Rust ä¸­çš„ä¸¤ä¸ªé‡è¦é›†åˆç±»å‹ï¼š

* `HashMap<K, V>`ï¼šé”®å€¼å¯¹é›†åˆ
* `HashSet<T>`ï¼šä¸é‡å¤å…ƒç´ é›†åˆ

å®ƒä»¬éƒ½åœ¨æ ‡å‡†åº“æ¨¡å— `std::collections` ä¸­ï¼Œéœ€è¦æ‰‹åŠ¨å¼•å…¥ã€‚

---

# ğŸ§­ ä¸€ã€HashMap å…¨æ•™ç¨‹

## ğŸ§  ä»€ä¹ˆæ˜¯ HashMapï¼Ÿ

`HashMap<K, V>` æ˜¯ä¸€ä¸ª**é”®å€¼å¯¹é›†åˆ**ï¼Œç”¨æ¥**æ˜ å°„å…³ç³»**ï¼ˆç±»ä¼¼ Python çš„å­—å…¸ã€JavaScript çš„å¯¹è±¡ï¼‰ã€‚

* é”®ï¼ˆKeyï¼‰å¿…é¡»å”¯ä¸€
* å€¼ï¼ˆValueï¼‰å¯ä»¥é‡å¤

---

## âœ… åˆ›å»º HashMap

```rust
use std::collections::HashMap;

fn main() {
    let mut map = HashMap::new();
    map.insert("apple", 3);
    map.insert("banana", 5);
    
    println!("{:?}", map);
}
```

---

## ğŸŒŸ è®¿é—®å€¼

```rust
fn main() {
    let mut scores = HashMap::new();
    scores.insert("math", 90);
    scores.insert("english", 85);

    // ç›´æ¥ç´¢å¼•ï¼ˆå¯èƒ½ panicï¼‰
    println!("{}", scores["math"]);

    // ä½¿ç”¨ get æ–¹æ³•ï¼ˆæ¨èï¼‰
    if let Some(score) = scores.get("english") {
        println!("English score: {}", score);
    }
}
```

---

## âš™ï¸ éå† HashMap

```rust
fn main() {
    let mut map = HashMap::new();
    map.insert("a", 1);
    map.insert("b", 2);

    for (key, value) in &map {
        println!("{}: {}", key, value);
    }
}
```

---

## âš  æ‰€æœ‰æƒè§„åˆ™

æ’å…¥ `String` æ—¶ï¼Œ**HashMap ä¼šè·å–é”®å’Œå€¼çš„æ‰€æœ‰æƒ**ã€‚

```rust
fn main() {
    let key = String::from("name");
    let value = String::from("Rust");

    let mut map = HashMap::new();
    map.insert(key, value);

    // key å’Œ value ä¸å†å¯ç”¨
    // println!("{}", key); âŒ ä¼šæŠ¥é”™
}
```

å¦‚æœä½ ä¸æƒ³è½¬ç§»æ‰€æœ‰æƒï¼Œå¯ä»¥ä½¿ç”¨ `.clone()` æˆ–è€…å¼•ç”¨ç±»å‹ã€‚

---

## ğŸ”„ æ›´æ–° HashMap

### 1. è¦†ç›–å·²æœ‰é”®ï¼š

```rust
fn main() {
    let mut map = HashMap::new();
    map.insert("a", 1);
    map.insert("a", 2); // è¦†ç›–æ—§å€¼
    println!("{:?}", map);  // {"a": 2}
}
```

### 2. åªåœ¨ä¸å­˜åœ¨æ—¶æ’å…¥ï¼š

```rust
fn main() {
    let mut map = HashMap::new();
    map.insert("a", 1);

    map.entry("a").or_insert(100);  // ä¸ä¼šæ’å…¥
    map.entry("b").or_insert(200);  // ä¼šæ’å…¥

    println!("{:?}", map);  // {"a": 1, "b": 200}
}
```

### 3. ä¿®æ”¹å·²æœ‰å€¼ï¼š

```rust
fn main() {
    let mut map = HashMap::new();
    map.insert("count", 1);

    if let Some(x) = map.get_mut("count") {
        *x += 1;
    }

    println!("{:?}", map);  // {"count": 2}
}
```

---

## ğŸ§¹ åˆ é™¤å…ƒç´ 

```rust
fn main() {
    let mut map = HashMap::new();
    map.insert("key1", 10);
    map.remove("key1");

    println!("{:?}", map);  // {}
}
```

---

## ğŸ“¦ å¸¸ç”¨æ–¹æ³•æ±‡æ€»

| æ–¹æ³•å                       | åŠŸèƒ½               |
| ------------------------- | ---------------- |
| `.insert(k, v)`           | æ’å…¥æˆ–è¦†ç›–é”®å€¼          |
| `.get(k)`                 | è·å–å€¼ï¼ˆè¿”å› `Option`ï¼‰ |
| `.remove(k)`              | åˆ é™¤é”®å€¼å¯¹            |
| `.contains_key(k)`        | æ˜¯å¦åŒ…å«é”®            |
| `.entry(k).or_insert(v)`  | æ’å…¥é»˜è®¤å€¼            |
| `.keys()` / `.values()`   | æ‰€æœ‰é”® / æ‰€æœ‰å€¼        |
| `.iter()` / `.iter_mut()` | éå†é”®å€¼å¯¹            |

---

# ğŸ§­ äºŒã€HashSet å…¨æ•™ç¨‹

## ğŸ§  ä»€ä¹ˆæ˜¯ HashSetï¼Ÿ

`HashSet<T>` æ˜¯ä¸€ä¸ªé›†åˆï¼Œ**åªå­˜å€¼ï¼Œä¸”ä¸é‡å¤**ã€‚å®ƒèƒŒåå…¶å®å°±æ˜¯ `HashMap<T, ()>`ã€‚

é€‚åˆç”¨äºï¼š

* å»é‡
* åˆ¤æ–­é›†åˆå…³ç³»
* é›†åˆè¿ç®—ï¼ˆå¹¶äº¤å·®ï¼‰

---

## âœ… åˆ›å»º HashSet

```rust
use std::collections::HashSet;

fn main() {
    let mut set = HashSet::new();
    set.insert("apple");
    set.insert("banana");
    set.insert("apple");  // é‡å¤ï¼Œä¸ä¼šæ’å…¥

    println!("{:?}", set);  // {"apple", "banana"}
}
```

---

## ğŸ” åˆ¤æ–­æ˜¯å¦åŒ…å«å…ƒç´ 

```rust
fn main() {
    let mut set = HashSet::new();
    set.insert("rust");

    println!("{}", set.contains("rust"));  // true
    println!("{}", set.contains("go"));    // false
}
```

---

## ğŸ§¹ åˆ é™¤å…ƒç´ 

```rust
fn main() {
    let mut set = HashSet::new();
    set.insert("c++");
    set.remove("c++");

    println!("{:?}", set);  // {}
}
```

---

## ğŸ” éå† HashSet

```rust
fn main() {
    let mut set = HashSet::new();
    set.insert("a");
    set.insert("b");

    for val in &set {
        println!("{}", val);
    }
}
```

---

## â• é›†åˆè¿ç®—ï¼ˆäº¤é›†/å¹¶é›†/å·®é›†ï¼‰

```rust
fn main() {
    let set1: HashSet<_> = [1, 2, 3].into_iter().collect();
    let set2: HashSet<_> = [2, 3, 4].into_iter().collect();

    // å¹¶é›†
    println!("Union: {:?}", set1.union(&set2).collect::<Vec<_>>());

    // äº¤é›†
    println!("Intersection: {:?}", set1.intersection(&set2).collect::<Vec<_>>());

    // å·®é›†
    println!("Difference: {:?}", set1.difference(&set2).collect::<Vec<_>>());
}
```

---

## âœ… æ€»ç»“å¯¹æ¯”

| é›†åˆç±»å‹            | ç‰¹ç‚¹     | ç”¨é€”        |
| --------------- | ------ | --------- |
| `Vec<T>`        | å¯å˜é•¿åº¦æ•°ç»„ | æœ‰åºé›†åˆï¼Œå…è®¸é‡å¤ |
| `HashMap<K, V>` | é”®å€¼å¯¹æ˜ å°„  | è¡¨ç»“æ„ï¼Œå¿«é€ŸæŸ¥æ‰¾  |
| `HashSet<T>`    | æ— é‡å¤çš„å€¼  | å»é‡ã€é›†åˆè¿ç®—   |
