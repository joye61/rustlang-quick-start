# 基础类型

---

## 1️⃣ 整数类型（Integer）

Rust 的整数分为**有符号**（signed）和**无符号**（unsigned）两类：

| 类型      | 位数  | 范围（十进制）                                                             | 示例                                                                   |
| ------- | --- | ------------------------------------------------------------------- | -------------------------------------------------------------------- |
| `i8`    | 8   | -128 \~ 127                                                         | `let a: i8 = -100;`                                                  |
| `i16`   | 16  | -32\_768 \~ 32\_767                                                 | `let b: i16 = 2000;`                                                 |
| `i32`   | 32  | -2\_147\_483\_648 \~ 2\_147\_483\_647                               | `let c: i32 = 1_000_000;`                                            |
| `i64`   | 64  | -9\_223\_372\_036\_854\_775\_808 \~ 9\_223\_372\_036\_854\_775\_807 | `let d: i64 = -5_000_000_000;`                                       |
| `i128`  | 128 | 超大整数                                                                | `let e: i128 = 12345678901234567890;`                                |
| `isize` | 平台位 | 根据系统架构（32/64位）                                                      | `let f: isize = 100;`                                                |
| `u8`    | 8   | 0 \~ 255                                                            | `let g: u8 = 255;`                                                   |
| `u16`   | 16  | 0 \~ 65\_535                                                        | `let h: u16 = 60000;`                                                |
| `u32`   | 32  | 0 \~ 4\_294\_967\_295                                               | `let i: u32 = 3_000_000;`                                            |
| `u64`   | 64  | 0 \~ 18\_446\_744\_073\_709\_551\_615                               | `let j: u64 = 10_000_000_000;`                                       |
| `u128`  | 128 | 超大整数                                                                | `let k: u128 = 340_282_366_920_938_463_463_374_607_431_768_211_455;` |
| `usize` | 平台位 | 根据系统架构（32/64位）                                                      | `let l: usize = 500;`                                                |

💡 **特点：**

* Rust **默认整数类型**是 `i32`。
* 可以用下划线 `_` 分隔数字，增加可读性。
* 溢出在**调试模式**下会 panic，在 release 模式下会环绕（wrap-around）。

**示例：**

```rust
fn main() {
    let a: i32 = -10;
    let b: u32 = 20;
    let sum = a + b as i32; // u32 需要转换为 i32
    println!("sum = {}", sum);
}
```

---

## 2️⃣ 浮点数类型（Floating-point）

Rust 的浮点数只有两种：

| 类型    | 位数 | 示例                      |
| ----- | -- | ----------------------- |
| `f32` | 32 | `let x: f32 = 3.14;`    |
| `f64` | 64 | `let y: f64 = 2.71828;` |

💡 **特点：**

* Rust **默认浮点类型**是 `f64`，精度更高。
* 支持科学计数法：`1.2e3` = 1200.0
* 支持常用运算符：`+ - * / %`

**示例：**

```rust
fn main() {
    let a: f32 = 3.5;
    let b: f64 = 2.0;
    let c = a as f64 + b; // 类型转换
    println!("c = {}", c); // 输出 5.5
}
```

---

## 3️⃣ 数值类型的运算与字面量

### 3.1 字面量表示法

* **十进制**：`98_222`
* **十六进制**：`0xff`
* **八进制**：`0o77`
* **二进制**：`0b1111_0000`
* **字节字面量**（仅 u8）：`b'A'`

### 3.2 类型后缀

可以用后缀直接标注类型：

```rust
let x = 42u8;
let y = 1.23f32;
```

### 3.3 数值运算

支持基本运算：

```rust
let sum = 5 + 10;
let diff = 10 - 4;
let prod = 4 * 5;
let quo = 20 / 4;
let rem = 9 % 4;
```

注意：

* **整数除法**会舍弃小数部分：`5 / 2 = 2`
* 浮点数除法会保留小数：`5.0 / 2.0 = 2.5`

---

## 4️⃣ 常用数值函数与方法

```rust
fn main() {
    let x: i32 = -10;
    println!("abs = {}", x.abs());     // 绝对值
    println!("pow = {}", x.abs().pow(2)); // 幂
    println!("max = {}", x.max(20));   // 最大值
    println!("min = {}", x.min(20));   // 最小值

    let f: f64 = 3.14;
    println!("sqrt = {}", f.sqrt());   // 开方
    println!("ceil = {}", f.ceil());   // 向上取整
    println!("floor = {}", f.floor()); // 向下取整
}
```

---

## ✅ 小结

* **整数类型**：有符号 `i*`、无符号 `u*`、平台相关 `isize`/`usize`
* **浮点类型**：`f32`、`f64`，默认 `f64`
* **字面量**：支持十进制、二进制、八进制、十六进制
* **运算与方法**：支持基本算术、幂、绝对值、开方等
* **类型转换**：整数与浮点数之间需要显式转换（`as`）

---


好的，我们来系统、简洁地详解 Rust 的字符类型（`char`），包括语法、特点和示例。

---

## 1️⃣ `char` 类型概述

* Rust 的字符类型是 **`char`**，表示一个 **Unicode 标量值**（Unicode Scalar Value），占 **4 个字节（32 位）**。
* 区别于 C/C++ 的 `char`（通常 1 字节，只能表示 ASCII），Rust 的 `char` 可以表示几乎所有语言的字符，包括中文、emoji 等。
* **字面量表示**：使用单引号 `'a'`。

```rust
let c: char = 'a';
let ch: char = '中';
let emoji: char = '😊';
```

💡 **特点**：

* 一个 `char` 只能表示一个字符，不是字符串。
* Unicode 字符的编码范围：`U+0000` 到 `U+D7FF` 和 `U+E000` 到 `U+10FFFF`。
* 占 4 字节（32 位），保证可以表示所有 Unicode 字符。

---

## 2️⃣ `char` 的基本操作

### 2.1 判断和转换

```rust
fn main() {
    let c: char = 'a';

    // 判断
    println!("is alphabetic? {}", c.is_alphabetic()); // true
    println!("is digit? {}", c.is_digit(10));        // false
    println!("is lowercase? {}", c.is_lowercase());  // true
    println!("is uppercase? {}", c.is_uppercase());  // false

    // 转换
    println!("to uppercase: {}", c.to_uppercase()); // "A"，返回迭代器
    println!("to lowercase: {}", c.to_lowercase()); // "a"
}
```

> 注意：`to_uppercase()` 和 `to_lowercase()` 返回的是迭代器，因为某些 Unicode 字符转换可能生成多个字符。

---

### 2.2 数值操作

* 可以将 `char` 转换为对应的 **Unicode 码点**（`u32`）：

```rust
let c: char = 'A';
let code = c as u32; // 65
println!("Unicode code point: {}", code);
```

* 从 `u32` 转回 `char`：

```rust
let c = std::char::from_u32(0x4E2D).unwrap(); // '中'
println!("char from code: {}", c);
```

---

### 2.3 字符比较和排序

```rust
let a = 'a';
let b = 'b';

println!("a < b? {}", a < b); // true
println!("a == b? {}", a == b); // false
```

`char` 类型可以直接比较大小，比较的是 **Unicode 码点值**。

---

### 2.4 字符和字符串的区别

* `char` 是单个字符
* `String` / `&str` 是字符序列

```rust
let c: char = '你';
let s: &str = "你好";

println!("char: {}", c); // '你'
println!("str: {}", s);  // "你好"
```

> 注意：`&str` 和 `String` 内部是 **UTF-8 编码**，一个 Unicode 字符可能占用 1\~4 个字节，而 `char` 总是 4 字节。

---

## 3️⃣ `char` 的字面量表示法

| 写法      | 示例             | 说明            |
| ------- | -------------- | ------------- |
| 单字符     | `'a'`          | 普通 ASCII 字符   |
| Unicode | `'\u{4E2D}'`   | 任意 Unicode 字符 |
| 转义字符    | `'\n'`, `'\t'` | 换行、制表符等       |
| Emoji   | `'😊'`         | 任何 Unicode 符号 |

```rust
let newline: char = '\n';
let chinese: char = '\u{4E2D}';
let smiley: char = '😊';
```

---

## ✅ 小结

* Rust 的字符类型是 **`char`**，占 **4 字节**，表示 **Unicode 标量值**。
* `char` 可以表示 ASCII、中文、emoji 等所有 Unicode 字符。
* 常用操作：

  * 判断类型：`is_alphabetic()`, `is_digit()`, `is_lowercase()`
  * 转换大小写：`to_uppercase()`, `to_lowercase()`
  * 与整数转换：`as u32` / `from_u32()`
  * 支持比较运算 `<, >, ==`
* 字符与字符串不同：`char` 单个字符，`&str`/`String` 是字符序列。


好的，我们来详细、简洁地讲解 Rust 的布尔类型（`bool`），涵盖语法、操作和示例，保证全面。

---

## 1️⃣ `bool` 类型概述

* Rust 的布尔类型是 **`bool`**，表示逻辑值：

  * `true` —— 真
  * `false` —— 假
* 占 **1 字节**（8 位）。
* 用于条件判断、逻辑运算、循环控制等。

```rust
let t: bool = true;
let f: bool = false;

println!("t = {}, f = {}", t, f);
```

💡 **特点**：

* Rust **严格类型**，不能像 C/C++ 那样用整数代替布尔值。
* 不能将 `0` 或 `1` 直接赋值给 `bool`，必须使用 `true`/`false`。

---

## 2️⃣ 布尔运算符

### 2.1 逻辑运算

| 运算符  | 说明  | 示例                        |     |        |   |                |
| ---- | --- | ------------------------- | --- | ------ | - | -------------- |
| `&&` | 逻辑与 | `true && false` → `false` |     |        |   |                |
| \`   |     | \`                        | 逻辑或 | \`true |   | false`→`true\` |
| `!`  | 逻辑非 | `!true` → `false`         |     |        |   |                |

```rust
fn main() {
    let a = true;
    let b = false;

    println!("a && b = {}", a && b); // false
    println!("a || b = {}", a || b); // true
    println!("!a = {}", !a);         // false
}
```

### 2.2 短路特性

* `&&` 和 `||` **短路求值**：

  * `a && b`：如果 `a` 为 `false`，`b` 不会计算
  * `a || b`：如果 `a` 为 `true`，`b` 不会计算

```rust
fn main() {
    let x = false;
    let result = x && { println!("不会执行"); true };
    println!("result = {}", result); // false
}
```

---

## 3️⃣ 布尔类型与条件控制

`bool` 常用于 `if`、`while`、`loop` 控制流：

```rust
fn main() {
    let flag = true;

    if flag {
        println!("条件为真");
    } else {
        println!("条件为假");
    }

    let mut count = 0;
    while count < 3 {
        println!("count = {}", count);
        count += 1;
    }
}
```

> 注意：Rust 的 `if` 条件必须是 `bool`，不能像 C/C++ 用整数。

---

## 4️⃣ 布尔类型与数值转换

* Rust **不允许**直接将 `bool` 转成整数或浮点数。
* 需要显式转换，例如：

```rust
fn main() {
    let b = true;
    let num = b as u8; // true -> 1, false -> 0
    println!("num = {}", num);
}
```

* 反过来可以用表达式生成 `bool`：

```rust
let x = 10;
let y = 20;
let b = x < y; // true
```

---

## 5️⃣ 常用布尔方法

* `clone()`、`copy()` 等通用方法
* 一般不需要额外方法，主要用逻辑运算和条件判断

---

## ✅ 小结

* Rust 布尔类型：`bool`，值为 `true` / `false`
* 占 1 字节，类型安全，不能用整数代替
* 常用操作：

  * 逻辑与/或/非：`&&`, `||`, `!`
  * 短路特性：`&&`、`||` 会短路
  * 条件控制：`if`、`while`、`loop`
  * 类型转换：`as u8` 或表达式生成 `bool`
* 设计严格，保证逻辑安全，避免隐式类型转换错误


好的，我们来详细、简明地讲解 Rust 的 **单元类型**（`()`），涵盖概念、用途、语法和示例，确保全面理解。

---

## 1️⃣ 单元类型概述

* Rust 中的 **单元类型**用 `()` 表示。
* 它是 **一个类型也是一个值**。
* 占用 **零字节**，即不占实际内存空间。
* 常用于表示 **空值** 或 **没有返回值** 的情况。

```rust
let unit: () = ();
println!("unit = {:?}", unit); // 输出: unit = ()
```

💡 特点：

* Rust 中每个函数都有返回值，**即使不显式返回**，默认返回 `()`。
* 可以理解为 Rust 的 “空元组”。

---

## 2️⃣ 单元类型在函数中的应用

### 2.1 没有返回值的函数

```rust
fn greet(name: &str) {
    println!("Hello, {}!", name);
}

fn main() {
    let result = greet("Alice");
    println!("result = {:?}", result); // result = ()
}
```

* `greet` 没有返回值，Rust 自动返回 `()`。

### 2.2 显式返回 `()`

```rust
fn do_nothing() -> () {
    // 什么都不做
}
```

### 2.3 有返回值函数也可返回 `()`

```rust
fn check(x: i32) -> () {
    if x > 0 {
        println!("Positive");
    } else {
        println!("Non-positive");
    }
}
```

---

## 3️⃣ 单元类型在表达式中的作用

* `()` 是一个合法的表达式，可作为占位符。
* 常用于 `let`、`match` 或闭包占位。

```rust
let x: () = ();
let y = if true { () } else { () }; // 条件表达式返回类型一致
```

### 3.1 在 `match` 中使用

```rust
let number = 5;
match number {
    1 => println!("One"),
    2 => println!("Two"),
    _ => (), // 占位，不执行任何操作
}
```

---

## 4️⃣ 单元类型与元组的关系

* `()` 是 **长度为 0 的元组**。
* 所有元组类型都是合法的 Rust 类型：

```rust
let empty_tuple: () = ();
let tuple2 = (1, "hello"); // 二元组
```

---

## 5️⃣ 小结

| 特性    | 说明                 |
| ----- | ------------------ |
| 类型/值  | `()`               |
| 占用内存  | 0 字节               |
| 典型用途  | 没有返回值的函数、占位符       |
| 默认返回值 | 所有函数如果无返回值，返回 `()` |
| 与元组关系 | 长度为 0 的元组          |

---

**示例综合**

```rust
fn main() {
    let unit: () = (); // 单元值
    println!("unit = {:?}", unit);

    fn greet(name: &str) { println!("Hello, {}!", name); }
    let result = greet("Alice"); // 隐式返回 ()
    println!("result = {:?}", result);

    let x = if true { () } else { () }; // 条件表达式返回 ()
    println!("x = {:?}", x);

    match 5 {
        1 => println!("One"),
        2 => println!("Two"),
        _ => (), // match 占位
    }
}
```

---

✅ **核心总结**：

* 单元类型 `()` = 空值、无返回值、零字节。
* 可作为函数返回值、占位符或长度为 0 的元组。
* Rust 设计严格，每个函数都有返回值，`()` 是默认返回值。





